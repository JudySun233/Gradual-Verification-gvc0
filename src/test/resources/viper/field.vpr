field Test$value: Ref

method doTest(input: Ref)
  requires acc(input.Test$value, write)
  ensures acc(input.Test$value, write)
{
  input.Test$value := 1
}

method main() returns ($result: Int)
{
  var test: Ref
  test := new(Test$value)
  doTest(test)
  $result := test.Test$value
}